import React, { useState, useEffect, useRef, useCallback } from 'react';
import { Home, User, Code, Mail, Terminal, Github, Linkedin, ArrowRight, Sparkles, Loader2, Bot, ExternalLink, Eye, ArrowDown, Cpu, Layers, Zap, PenTool, Phone, MessageCircle, Monitor, Lightbulb, Briefcase, Calendar, Globe, X, Palette, Search, FileCode, Layout, Bug, Gamepad2, Rocket, Target, History, AtSign, Send, Menu } from 'lucide-react';

// --- COMPONENTE JUEGO SNAKE ---
const SnakeGame = ({ onClose }) => {
  const [snake, setSnake] = useState([[10, 10]]);
  const [food, setFood] = useState([15, 15]);
  const [dir, setDir] = useState([0, 1]); // [y, x]
  const [gameOver, setGameOver] = useState(false);
  const [score, setScore] = useState(0);
  const gridSize = 20;

  const moveSnake = useCallback(() => {
    if (gameOver) return;

    const newHead = [snake[0][0] + dir[0], snake[0][1] + dir[1]];

    // Colisiones
    if (newHead[0] < 0 || newHead[0] >= gridSize || newHead[1] < 0 || newHead[1] >= gridSize || 
        snake.some(segment => segment[0] === newHead[0] && segment[1] === newHead[1])) {
      setGameOver(true);
      return;
    }

    const newSnake = [newHead, ...snake];
    
    if (newHead[0] === food[0] && newHead[1] === food[1]) {
      setScore(s => s + 1);
      setFood([Math.floor(Math.random() * gridSize), Math.floor(Math.random() * gridSize)]);
    } else {
      newSnake.pop();
    }
    setSnake(newSnake);
  }, [snake, dir, food, gameOver]);

  useEffect(() => {
    const interval = setInterval(moveSnake, 150);
    return () => clearInterval(interval);
  }, [moveSnake]);

  // Soporte para gestos t√°ctiles en m√≥vil para el juego
  const touchStart = useRef(null);
  const handleTouchStart = (e) => {
      touchStart.current = { x: e.touches[0].clientX, y: e.touches[0].clientY };
  };
  const handleTouchEnd = (e) => {
      if (!touchStart.current) return;
      const touchEnd = { x: e.changedTouches[0].clientX, y: e.changedTouches[0].clientY };
      const diffX = touchEnd.x - touchStart.current.x;
      const diffY = touchEnd.y - touchStart.current.y;

      if (Math.abs(diffX) > Math.abs(diffY)) {
          if (diffX > 0 && dir[1] !== -1) setDir([0, 1]);
          else if (diffX < 0 && dir[1] !== 1) setDir([0, -1]);
      } else {
          if (diffY > 0 && dir[0] !== -1) setDir([1, 0]);
          else if (diffY < 0 && dir[0] !== 1) setDir([-1, 0]);
      }
      touchStart.current = null;
  };

  useEffect(() => {
    const handleKeyDown = (e) => {
      switch(e.key) {
        case 'ArrowUp': if(dir[0] !== 1) setDir([-1, 0]); break;
        case 'ArrowDown': if(dir[0] !== -1) setDir([1, 0]); break;
        case 'ArrowLeft': if(dir[1] !== 1) setDir([0, -1]); break;
        case 'ArrowRight': if(dir[1] !== -1) setDir([0, 1]); break;
      }
    };
    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, [dir]);

  return (
    <div 
        className="fixed inset-0 z-[150] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-4 animate-fade-in select-none touch-none"
        onTouchStart={handleTouchStart}
        onTouchEnd={handleTouchEnd}
    >
      <button onClick={onClose} className="absolute top-8 right-8 text-white hover:text-cyan-400"><X size={32} /></button>
      
      <h3 className="text-3xl md:text-4xl font-bebas text-white mb-2">SNAKE üêç</h3>
      <p className="text-slate-400 mb-6 text-xs md:text-sm">PC: Flechas | M√≥vil: Desliza el dedo</p>
      
      <div className="relative bg-slate-900 border-2 border-cyan-500/50 rounded-lg shadow-[0_0_30px_rgba(6,182,212,0.2)]" 
           style={{ width: 'min(300px, 90vw)', height: 'min(300px, 90vw)', display: 'grid', gridTemplateColumns: `repeat(${gridSize}, 1fr)` }}>
        {Array.from({ length: gridSize * gridSize }).map((_, i) => {
          const y = Math.floor(i / gridSize);
          const x = i % gridSize;
          const isSnake = snake.some(s => s[0] === y && s[1] === x);
          const isFood = food[0] === y && food[1] === x;
          return (
            <div key={i} className={`${isSnake ? 'bg-green-400 shadow-[0_0_5px_#4ade80]' : ''} ${isFood ? 'bg-red-500 animate-pulse' : ''} border-[0.5px] border-white/5`} />
          );
        })}
        {gameOver && (
          <div className="absolute inset-0 bg-black/80 flex flex-col items-center justify-center">
            <span className="text-red-500 font-black text-3xl md:text-4xl mb-2">GAME OVER</span>
            <button onClick={() => { setSnake([[10, 10]]); setDir([0, 1]); setGameOver(false); setScore(0); }} className="px-4 py-2 bg-white text-black font-bold uppercase text-xs rounded hover:bg-cyan-400">Reintentar</button>
          </div>
        )}
      </div>
      <div className="mt-6 text-2xl font-mono text-cyan-400">Score: {score}</div>
    </div>
  );
};

export default function App() {
  const [activeSection, setActiveSection] = useState('home');
  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });
  const [language, setLanguage] = useState('es'); 
  const [showProfileModal, setShowProfileModal] = useState(false);
  const [showGame, setShowGame] = useState(false);
  const [showFormModal, setShowFormModal] = useState(false);
  
  // Estado del formulario
  const [formData, setFormData] = useState({
    nombre: '',
    apellido: '',
    telefono: '',
    correo: '',
    mensaje: ''
  });

  const mainScrollRef = useRef(null);
  const heroRef = useRef(null);
  const galleryRef = useRef(null); 
  const aboutRef = useRef(null);   
  const experienceRef = useRef(null); 

  // --- 1. DEFINICI√ìN DE DATOS ---

  const t = {
    es: {
      role: "Web Developer",
      nav: { home: "Inicio", about: "Perfil", contact: "Correo", whatsapp: "WhatsApp" },
      hero: { projects: "Proyectos", about: "Sobre M√≠", exp: "Experiencias", mind: "¬øTienes un dise√±o", mind_span: "en mente?", collab: "¬øHacemos algo juntos?", contact: "Contacto", play_cta: "¬°JUGAR! üëæ" },
      content1: { title: "Portafolio Creativo", gallery: "Proyectos", selecta: "Realizados", desc: "Aqu√≠ encontrar√°s una selecci√≥n organizada de mis proyectos m√°s recientes. Cada uno cuenta una historia de resoluci√≥n de problemas y dise√±o creativo.", btn_preview: "Ver Preview" },
      content2: { 
        title: "Con√≥ceme", 
        knowledge: "Conocimientos / Habilidades", 
        who_title: "¬øQui√©n Soy?",
        who_text: "Desarrollador Web orientado a resultados con una s√≥lida trayectoria en la creaci√≥n, dise√±o y mantenimiento de sitios web de alto rendimiento. Competente en HTML, CSS, JavaScript y ecosistemas WordPress/WooCommerce.",
        focus_title: "Mi Enfoque",
        focus_text: "Especializado en el desarrollo de interfaces interactivas, optimizaci√≥n UX/UI e implementaci√≥n de estrategias SEO. Combino desarrollo t√©cnico con marketing digital para soluciones integrales.",
        path_title: "Trayectoria",
        path_text: "A lo largo de mi carrera, he colaborado con marcas internacionales y startups locales, ayud√°ndolas a transformar su presencia digital.",
        path_list: [], 
        btn_cv: "Descargar CV Completo"
      },
      content3: { title: "Trayectoria Profesional", work: "Experiencia", exp: "Laboral" }, 
      contact: { 
        title: "Contacto", 
        subtitle: "Hablemos de tu pr√≥ximo proyecto", 
        close: "Cerrar"
      },
      form: {
        title: "¬øTienes un dise√±o en mente?",
        subtitle: "Cu√©ntame tu idea y la haremos realidad.",
        name: "Nombre",
        lastname: "Apellido",
        phone: "Tel√©fono",
        email: "Correo Electr√≥nico",
        message: "Mensaje",
        send: "Enviar Mensaje"
      },
      footer: {
        rights: "Todos los derechos reservados.",
      },
      profileModal: {
        text: "Soy Desarrollador Web con amplia experiencia en la creaci√≥n, dise√±o y mantenimiento de sitios web utilizando HTML, CSS, JavaScript y WordPress. Me especializo en el desarrollo de interfaces interactivas y funcionales, optimizando la experiencia de usuario. Tambi√©n tengo experiencia en SEO para mejorar la visibilidad de los sitios y maximizar su rendimiento."
      }
    },
    en: {
      role: "Web Developer",
      nav: { home: "Home", about: "Profile", contact: "Mail", whatsapp: "WhatsApp" },
      hero: { projects: "Projects", about: "About Me", exp: "Experience", mind: "Have a design", mind_span: "in mind?", collab: "Let's build something?", contact: "Contact", play_cta: "PRESS START üëæ" },
      content1: { title: "Creative Portfolio", gallery: "Completed", selecta: "Projects", desc: "Here you will find a curated selection of my most recent projects. Each one tells a story of problem-solving and creative design.", btn_preview: "View Preview" },
      content2: { 
        title: "Get to Know Me", 
        knowledge: "Knowledge / Skills", 
        who_title: "Who Am I?",
        who_text: "Results-oriented Web Developer with a strong background in creating, designing, and maintaining high-performance websites. Proficient in HTML, CSS, JavaScript, and WordPress/WooCommerce ecosystems.",
        focus_title: "My Approach",
        focus_text: "Specialized in developing interactive interfaces, UX/UI optimization, and implementing SEO strategies. I combine technical development with digital marketing for comprehensive solutions.",
        path_title: "Trajectory",
        path_text: "Throughout my career, I have collaborated with international brands and local startups, helping them transform their digital presence.",
        path_list: [],
        btn_cv: "Download Full CV"
      },
      content3: { title: "Professional Career", work: "Work", exp: "Experience" },
      contact: { 
        title: "Contact", 
        subtitle: "Let's talk about your next project", 
        close: "Close"
      },
      form: {
        title: "Have a design in mind?",
        subtitle: "Tell me your idea and let's make it happen.",
        name: "First Name",
        lastname: "Last Name",
        phone: "Phone",
        email: "Email",
        message: "Message",
        send: "Send Message"
      },
      footer: {
        rights: "All rights reserved.",
      },
      profileModal: {
        text: "I am a Web Developer with extensive experience in creating, designing, and maintaining websites using HTML, CSS, JavaScript, and WordPress. I specialize in developing interactive and functional interfaces, optimizing user experience. I also have experience in SEO to improve site visibility and maximize performance."
      }
    }
  };

  const experiencesData = {
    es: [
      {
        company: "Caribe Media",
        period: "2024 ‚Äì Presente",
        role: "Dise√±ador Web",
        details: [
          "Desarrollo y optimizaci√≥n de sitios web en WordPress y WooCommerce, enfocados en conversi√≥n, rendimiento y crecimiento del negocio.",
          "Desarrollo de p√°ginas web completas en HTML, CSS y JavaScript, personalizadas, escalables y alineadas a buenas pr√°cticas.",
          "Implementaci√≥n de sistemas de booking y reservas online, optimizando flujos de usuario, automatizaci√≥n de citas y procesos.",
          "Dise√±o y optimizaci√≥n de experiencias UI/UX, mejorando usabilidad, navegaci√≥n e interacci√≥n del usuario.",
          "Implementaci√≥n de SEO On-Page, optimizaci√≥n de velocidad, rendimiento web y Core Web Vitals.",
          "Desarrollo de sitios responsive y cross-browser, asegurando correcta visualizaci√≥n en todos los dispositivos.",
          "Mantenimiento, actualizaci√≥n y mejora continua de sitios web existentes.",
          "Creaci√≥n de recursos visuales y gesti√≥n de contenidos con Adobe Photoshop e Illustrator."
        ]
      },
      {
        company: "InfoMedia",
        period: "2023 ‚Äì 2024",
        role: "Web Developer",
        details: [
          "Dise√±√© y desarroll√© arquitecturas Front-End con un enfoque espec√≠fico en la optimizaci√≥n SEO.",
          "Implement√© sistemas de reservas complejos (motores de Booking) e interfaces de usuario personalizadas.",
          "Gestion√© estrategias de contenido en WordPress, incluyendo la creaci√≥n de tiendas online v√≠a WooCommerce.",
          "Program√© formularios interactivos personalizados usando JavaScript para capturar datos de usuarios."
        ]
      },
      {
        company: "Data Import",
        period: "2022 ‚Äì 2023",
        role: "Web Developer y Creador de Contenido",
        details: [
          "Cre√© y mantuve p√°ginas web Front-End personalizadas para marcas, mejorando significativamente la Experiencia de Usuario (UX).",
          "Gestion√© la p√°gina de inicio de la empresa, optimizando el rendimiento, la velocidad y la jerarqu√≠a visual.",
          "Ejecut√© campa√±as de marketing por correo electr√≥nico masivo, manejando la segmentaci√≥n de audiencia y analizando resultados.",
          "Cre√© contenido atractivo para marketing en redes sociales y dise√±√© activos visuales utilizando Photoshop."
        ]
      }
    ],
    en: [
      {
        company: "Caribe Media",
        period: "2024 ‚Äì Present",
        role: "Web Designer",
        details: [
          "Development and optimization of websites in WordPress and WooCommerce, focused on conversion, performance and business growth.",
          "Development of full web pages in HTML, CSS and JavaScript, custom, scalable and aligned with best practices.",
          "Implementation of online booking and reservation systems, optimizing user flows, appointment automation and processes.",
          "Design and optimization of UI/UX experiences, improving usability, navigation and user interaction.",
          "Implementation of On-Page SEO, speed optimization, web performance and Core Web Vitals.",
          "Development of responsive and cross-browser sites, ensuring correct display on all devices.",
          "Maintenance, updating and continuous improvement of existing websites.",
          "Creation of visual resources and content management with Adobe Photoshop and Illustrator."
        ]
      },
      {
        company: "InfoMedia",
        period: "2023 ‚Äì 2024",
        role: "Web Developer",
        details: [
          "Designed and developed Front-End architectures with a specific focus on SEO optimization.",
          "Implemented complex reservation systems (Booking engines) and customized user interfaces.",
          "Managed WordPress content strategies, including the creation of online stores via WooCommerce.",
          "Programmed custom interactive forms using JavaScript to capture user data."
        ]
      },
      {
        company: "Data Import",
        period: "2022 ‚Äì 2023",
        role: "Web Developer and Content Creator",
        details: [
          "Created and maintained custom Front-End web pages for brands, significantly improving User Experience (UX).",
          "Managed the company‚Äôs homepage, optimizing performance, speed, and visual hierarchy.",
          "Executed mass email marketing campaigns, handling audience segmentation and analyzing results.",
          "Created engaging content for social media marketing and designed visual assets using Photoshop."
        ]
      }
    ]
  };

  const skillsData = {
    es: [
      { name: "Front End", icon: Code, color: "text-cyan-400", hex: "#06b6d4", hoverColor: "cyan-500", animation: "group-hover:animate-bounce" },
      { name: "WordPress / Woo", icon: Layers, color: "text-blue-400", hex: "#3b82f6", hoverColor: "blue-500", animation: "group-hover:animate-pulse" },
      { name: "SEO", icon: Search, color: "text-green-400", hex: "#4ade80", hoverColor: "green-500", animation: "group-hover:animate-bounce" }, 
      { name: "HTML / CSS / JS", icon: FileCode, color: "text-orange-400", hex: "#fb923c", hoverColor: "orange-500", animation: "group-hover:animate-pulse" },
      { name: "UI / UX", icon: Layout, color: "text-pink-400", hex: "#f472b6", hoverColor: "pink-500", animation: "group-hover:animate-spin" }, 
      { name: "An√°lisis y Dise√±o", icon: PenTool, color: "text-purple-400", hex: "#a855f7", hoverColor: "purple-500", animation: "group-hover:animate-bounce" },
      { name: "Ps / Illustrator", icon: Palette, color: "text-indigo-400", hex: "#ffffff", hoverColor: "indigo-500", animation: "group-hover:animate-pulse" },
    ],
    en: [
      { name: "Front End", icon: Code, color: "text-cyan-400", hex: "#06b6d4", hoverColor: "cyan-500", animation: "group-hover:animate-bounce" },
      { name: "WordPress / Woo", icon: Layers, color: "text-blue-400", hex: "#3b82f6", hoverColor: "blue-500", animation: "group-hover:animate-pulse" },
      { name: "SEO", icon: Search, color: "text-green-400", hex: "#4ade80", hoverColor: "green-500", animation: "group-hover:animate-bounce" }, 
      { name: "HTML / CSS / JS", icon: FileCode, color: "text-orange-400", hex: "#fb923c", hoverColor: "orange-500", animation: "group-hover:animate-pulse" },
      { name: "UI / UX", icon: Layout, color: "text-pink-400", hex: "#f472b6", hoverColor: "pink-500", animation: "group-hover:animate-spin" },
      { name: "Analysis & Design", icon: PenTool, color: "text-purple-400", hex: "#a855f7", animation: "group-hover:animate-bounce" },
      { name: "Ps / Illustrator", icon: Palette, color: "text-indigo-400", hex: "#ffffff", animation: "group-hover:animate-pulse" },
    ]
  };

  const projects = [
    { id: 1, title: "Neon E-Commerce", category: "React / Tailwind", hex: "#06b6d4", img: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=800&auto=format&fit=crop", span: "md:col-span-2" },
    { id: 2, title: "Fintech Dashboard", category: "Vue / D3.js", hex: "#10b981", img: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=800&auto=format&fit=crop", span: "" },
    { id: 3, title: "AI Landing Page", category: "Next.js / Framer", hex: "#8b5cf6", img: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=800&auto=format&fit=crop", span: "" },
    { id: 4, title: "Architecture Portfolio", category: "HTML / GSAP", hex: "#f59e0b", img: "https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=800&auto=format&fit=crop", span: "md:row-span-2" },
    { id: 5, title: "Crypto Exchange", category: "React / Web3", hex: "#3b82f6", img: "https://images.unsplash.com/photo-1621504450162-115f287cc270?q=80&w=800&auto=format&fit=crop", span: "" },
    { id: 6, title: "Travel Journal", category: "Next.js / Mapbox", hex: "#ef4444", img: "https://images.unsplash.com/photo-1488646953014-85cb44e25828?q=80&w=800&auto=format&fit=crop", span: "md:col-span-2" },
    { id: 7, title: "Restaurant App", category: "React Native", hex: "#f97316", img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=800&auto=format&fit=crop", span: "" },
    { id: 8, title: "Fitness Tracker", category: "Flutter", hex: "#0ea5e9", img: "https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?q=80&w=800&auto=format&fit=crop", span: "" },
    { id: 9, title: "Real Estate Platform", category: "Django / React", hex: "#14b8a6", img: "https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=800&auto=format&fit=crop", span: "md:col-span-2" },
    { id: 10, title: "E-Learning Hub", category: "Moodle / PHP", hex: "#ec4899", img: "https://images.unsplash.com/photo-1501504905252-473c47e087f8?q=80&w=800&auto=format&fit=crop", span: "" },
    { id: 11, title: "SaaS Analytics", category: "Angular / Node", hex: "#6366f1", img: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=800&auto=format&fit=crop", span: "" },
    { id: 12, title: "Music Streaming UI", category: "React / Redux", hex: "#d946ef", img: "https://images.unsplash.com/photo-1614680376593-902f74cf0d41?q=80&w=800&auto=format&fit=crop", span: "" },
  ];

  // Variables din√°micas
  const experiences = experiencesData[language];
  const skills = skillsData[language];
  const text = t[language];

  // --- ESTADOS Y L√ìGICA DE IA ---
  const [ideaInput, setIdeaInput] = useState('');
  const [aiProposal, setAiProposal] = useState(null);
  const [isGenerating, setIsGenerating] = useState(false);
  const [aiError, setAiError] = useState(null);

  const generateTechProposal = async () => {
    if (!ideaInput.trim()) return;
    setIsGenerating(true);
    setAiError(null);
    setAiProposal(null);
    const apiKey = ""; 
    const langPrompt = language === 'es' ? 'en espa√±ol' : 'in English';
    const prompt = `Act√∫a como Donald O Castillo, un Arquitecto Web experto. Un cliente potencial tiene esta idea para un proyecto: "${ideaInput}".
    Por favor, genera una breve y profesional "Propuesta T√©cnica Preliminar" en formato HTML simple...`;

    try {
      const response = await fetch(
        `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`,
        {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] }),
        }
      );
      if (!response.ok) throw new Error('Error al conectar con la IA');
      const data = await response.json();
      const textResponse = data.candidates?.[0]?.content?.parts?.[0]?.text;
      if (textResponse) setAiProposal(textResponse);
      else throw new Error('No se recibi√≥ respuesta de la IA');
    } catch (err) {
      console.error(err);
      setAiError("Hubo un peque√±o error al consultar a mi asistente virtual.");
    } finally {
      setIsGenerating(false);
    }
  };

  useEffect(() => {
    const updateMousePosition = (ev) => {
      setMousePosition({ x: ev.clientX, y: ev.clientY });
    };
    window.addEventListener('mousemove', updateMousePosition);
    return () => {
      window.removeEventListener('mousemove', updateMousePosition);
    };
  }, []);

  const scrollToSection = (sectionRef, sectionName) => {
    setActiveSection(sectionName);
    sectionRef.current?.scrollIntoView({ behavior: 'smooth' });
  };

  const handleWhatsApp = () => {
    const message = encodeURIComponent("Hola, vi tu portaflio y me interesa obtener mas infromacion");
    window.open(`https://wa.me/18496539887?text=${message}`, '_blank');
  };

  const handleFormSubmit = (e) => {
    e.preventDefault();
    const { nombre, apellido, telefono, correo, mensaje } = formData;
    const body = `Nombre: ${nombre} ${apellido}%0D%0ATel√©fono: ${telefono}%0D%0ACorreo: ${correo}%0D%0A%0D%0AMensaje:%0D%0A${mensaje}`;
    window.location.href = `mailto:desarrollowebdi@gmail.com?subject=Nuevo Dise√±o en Mente - ${nombre}&body=${body}`;
  };

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
  };

  const NavItem = ({ section, icon: Icon, label, onClick, isLink }) => (
    <button
      onClick={onClick}
      className={`group relative flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-300 ${
        activeSection === section && !isLink
          ? 'bg-blue-500/20 text-cyan-400 shadow-[0_0_15px_rgba(34,211,238,0.3)]' 
          : 'text-slate-500 hover:text-cyan-200 hover:bg-white/5'
      }`}
    >
      <Icon size={24} strokeWidth={1.5} />
      <span className="absolute left-16 bg-slate-900 text-cyan-400 text-xs font-bold px-3 py-1 rounded border border-cyan-900/50 opacity-0 group-hover:opacity-100 transform translate-x-[-10px] group-hover:translate-x-0 transition-all duration-300 pointer-events-none whitespace-nowrap font-['Montserrat'] uppercase tracking-widest z-50">
        {label}
      </span>
      {activeSection === section && !isLink && (
        <div className="absolute left-[-18px] w-1 h-8 bg-cyan-400 rounded-r-full shadow-[0_0_10px_rgba(34,211,238,0.8)]" />
      )}
    </button>
  );

  return (
    <div className="relative h-screen w-full bg-black text-slate-200 overflow-hidden font-['Montserrat'] font-light selection:bg-cyan-500/30 selection:text-cyan-200 flex flex-col md:flex-row">
      
      {/* JUEGO SNAKE */}
      {showGame && <SnakeGame onClose={() => setShowGame(false)} />}

      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@300;400;600&display=swap');
        .font-bebas { font-family: 'Bebas Neue', cursive; }
        
        .big-nav-link, h2, h3, h4 { transition: all 0.3s ease; }
        .big-nav-link:hover, .section-title:hover { 
            color: transparent; 
            -webkit-text-stroke: 1px #22d3ee; 
            text-shadow: 0 0 10px rgba(34, 211, 238, 0.2);
        }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { bg: #000; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #22d3ee; }
        .ai-content ul { list-style-type: disc; margin-left: 20px; }
        .ai-content strong { color: #22d3ee; }

        /* Efecto de Borde Elegante Reutilizable (Hover) */
        .hover-border-trigger .hover-border-target {
            border-width: 1px;
            border-color: transparent;
        }
        .hover-border-trigger:hover .hover-border-target {
            border-color: var(--item-color);
            border-top-width: 1px;
            border-right-width: 1px;
            border-bottom-width: 1px;
            border-left-width: 2px;
            box-shadow: 0 0 15px var(--item-color);
        }
        /* Galer√≠a Proyectos Espec√≠fico: Izquierda m√°s grueso */
        .hover-border-project:hover .hover-border-target {
            border-left-width: 4px;
        }
      `}</style>

      {/* Background FX */}
      <div className="fixed inset-0 opacity-[0.03] pointer-events-none z-0" style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")` }}></div>
      <div className="fixed inset-0 z-0 pointer-events-none transition-opacity duration-500" style={{ background: `radial-gradient(600px circle at ${mousePosition.x}px ${mousePosition.y}px, rgba(6, 182, 212, 0.10), transparent 40%)` }} />
      <div className="fixed inset-0 z-0 pointer-events-none opacity-10" style={{ backgroundImage: 'linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px)', backgroundSize: '50px 50px' }}></div>

      {/* BOT√ìN CAMBIO IDIOMA */}
      <div className="fixed top-4 right-4 md:top-8 md:right-8 z-50">
        <button 
          onClick={() => setLanguage(lang => lang === 'es' ? 'en' : 'es')}
          className="flex items-center gap-2 px-3 py-1.5 md:px-4 md:py-2 bg-black/50 border border-white/10 rounded-full hover:border-cyan-500 hover:text-cyan-400 transition-all backdrop-blur-md text-xs md:text-sm"
        >
          <Globe size={14} className="md:w-4 md:h-4" />
          <span className="font-bebas tracking-wider">{language === 'es' ? 'ES' : 'EN'}</span>
        </button>
      </div>

      {/* --- MENU M√ìVIL (BOTTOM BAR) --- */}
      <nav className="fixed bottom-0 left-0 w-full h-16 bg-black/90 border-t border-white/10 flex justify-around items-center z-50 md:hidden backdrop-blur-lg">
          <button onClick={() => scrollToSection(heroRef, 'home')} className="text-slate-500 hover:text-cyan-400 flex flex-col items-center gap-1">
             <Home size={20} /> <span className="text-[10px]">Inicio</span>
          </button>
          <button onClick={() => setShowProfileModal(true)} className="text-slate-500 hover:text-cyan-400 flex flex-col items-center gap-1">
             <User size={20} /> <span className="text-[10px]">Perfil</span>
          </button>
          <button onClick={() => scrollToSection(galleryRef, 'projects')} className="text-slate-500 hover:text-cyan-400 flex flex-col items-center gap-1">
             <Code size={20} /> <span className="text-[10px]">Proyectos</span>
          </button>
           <button onClick={() => setActiveSection('contact')} className="text-slate-500 hover:text-cyan-400 flex flex-col items-center gap-1">
             <Mail size={20} /> <span className="text-[10px]">Contacto</span>
          </button>
      </nav>

      {/* --- MENU LATERAL (DESKTOP) --- */}
      <nav className="hidden md:flex h-full w-20 flex-col items-center justify-between py-8 z-50 border-r border-white/5 bg-black/80 backdrop-blur-md shrink-0">
        <div className="mb-8 p-2 rounded-full border border-cyan-500/30 shadow-[0_0_15px_rgba(6,182,212,0.2)]">
          <Terminal size={24} className="text-cyan-400" />
        </div>
        <div className="flex flex-col gap-6">
          <NavItem section="home" icon={Home} label={text.nav.home} onClick={() => scrollToSection(heroRef, 'home')} />
          <NavItem section="about" icon={User} label={text.nav.about} onClick={() => setShowProfileModal(true)} />
          <NavItem section="contact" icon={Mail} label={text.nav.contact} onClick={() => window.location.href = 'mailto:desarrollowebdi@gmail.com'} isLink />
          <NavItem section="whatsapp" icon={MessageCircle} label={text.nav.whatsapp} onClick={handleWhatsApp} isLink />
        </div>
        <div className="flex flex-col gap-6 mt-auto mb-4">
          <a href="tel:8496539887" className="text-slate-600 hover:text-white transition-colors group relative">
            <Phone size={20} />
            <span className="absolute left-14 bg-slate-900 text-cyan-400 text-xs font-bold px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">Llamar</span>
          </a>
          <a href="#" className="text-slate-600 hover:text-blue-400 transition-colors">
            <Linkedin size={20} />
          </a>
        </div>
      </nav>

      {/* --- CONTENEDOR PRINCIPAL --- */}
      <main ref={mainScrollRef} className="flex-1 h-full overflow-y-auto custom-scrollbar relative scroll-smooth z-10 pb-16 md:pb-0">
        
        {/* === HERO SECTION === */}
        <div ref={heroRef} className="relative w-full min-h-screen md:min-h-[120vh] grid grid-cols-1 lg:grid-cols-2">
            {/* IZQUIERDA: Nombre Sticky (Desktop) */}
            <div className="hidden lg:block relative">
                <div className="sticky top-0 h-screen flex flex-col justify-end items-start text-left p-12 border-r border-white/5">
                    <div className="mt-auto w-full animate-enter">
                        <div className="relative group w-fit">
                            <h3 
                                className="font-bebas text-6xl leading-none tracking-wide cursor-pointer hover-outline-text select-none mb-6 uppercase transition-all hover:scale-105 active:scale-95"
                                onClick={() => setShowGame(true)}
                            >
                            Orsinis Castillo Sebastian
                            </h3>
                            <span className="absolute -top-6 right-0 bg-cyan-500 text-black font-bold text-xs px-2 py-1 rounded-full animate-bounce">
                                {text.hero.play_cta}
                            </span>
                        </div>
                        <div className="flex flex-col gap-2 border-t border-white/10 pt-6 items-start">
                            <span className="text-cyan-500 text-lg font-semibold tracking-widest uppercase">
                                {text.role}
                            </span>
                            <a href="mailto:desarrollowebdi@gmail.com" className="text-slate-500 text-sm tracking-wider font-mono hover:text-cyan-400 transition-colors mt-2 cursor-pointer">
                                desarrollowebdi@gmail.com
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            {/* M√ìVIL: Header Nombre (Solo visible en < lg) */}
            <div className="lg:hidden p-8 pt-20 text-left">
                 <div className="relative group w-fit mb-4">
                    <h3 
                        className="font-bebas text-5xl leading-none tracking-wide text-white uppercase"
                        onClick={() => setShowGame(true)}
                    >
                    Orsinis Castillo
                    </h3>
                     <span className="absolute -top-4 right-0 bg-cyan-500 text-black font-bold text-[10px] px-1.5 py-0.5 rounded-full animate-bounce">
                        {text.hero.play_cta}
                    </span>
                 </div>
                 <p className="text-cyan-400 font-bold tracking-widest text-sm">{text.role}</p>
            </div>

            {/* DERECHA: Men√∫ Estilizado */}
            <div className="flex flex-col justify-center items-end gap-12 md:gap-16 py-10 md:py-20 px-6 md:px-20 text-right min-h-[50vh] md:min-h-screen">
                {[
                  { label: text.hero.projects, ref: galleryRef, icon: Monitor },
                  { label: text.hero.about, ref: aboutRef, icon: User },
                  { label: text.hero.exp, ref: experienceRef, icon: Briefcase }
                ].map((item, idx) => (
                  <div key={idx} className="w-full group cursor-pointer flex flex-col items-end animate-enter" style={{animationDelay: `${idx * 100}ms`}} onClick={() => scrollToSection(item.ref, 'section')}>
                      <h2 className="big-nav-link text-5xl md:text-6xl lg:text-8xl font-bebas font-black tracking-wide uppercase leading-none mb-2">{item.label}</h2>
                      <div className="w-full h-[1px] bg-white/10 group-hover:bg-cyan-500/50 transition-colors relative flex items-center justify-end">
                          <div className="bg-black pl-2"><item.icon size={20} className="md:w-6 md:h-6 text-slate-500 group-hover:text-cyan-400 transition-colors" /></div>
                      </div>
                  </div>
                ))}

                <div className="w-full group cursor-pointer flex flex-col items-end animate-enter" style={{animationDelay: '300ms'}} onClick={() => setShowFormModal(true)}>
                    <p className="text-cyan-400 font-mono text-xs md:text-sm tracking-widest uppercase mb-1 opacity-70 group-hover:opacity-100 transition-opacity">{text.hero.collab}</p>
                    <h2 className="big-nav-link text-4xl md:text-5xl lg:text-7xl font-bebas font-black tracking-wide uppercase leading-[0.9] text-right mb-2">
                        {text.hero.mind}<br/> <span className="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600">{text.hero.mind_span}</span>
                    </h2>
                    <div className="w-full h-[1px] bg-white/10 group-hover:bg-cyan-500/50 transition-colors relative flex items-center justify-end">
                        <div className="bg-black pl-2"><Lightbulb size={20} className="md:w-6 md:h-6 text-slate-500 group-hover:text-yellow-400 transition-colors" /></div>
                    </div>
                </div>

                <div className="w-full group cursor-pointer flex flex-col items-end animate-enter" style={{animationDelay: '400ms'}} onClick={() => setActiveSection('contact')}>
                    <h2 className="big-nav-link text-5xl md:text-6xl lg:text-8xl font-bebas font-black tracking-wide uppercase leading-none mb-2">{text.hero.contact}</h2>
                    <div className="w-full h-[1px] bg-white/10 group-hover:bg-cyan-500/50 transition-colors relative flex items-center justify-end">
                        <div className="bg-black pl-2"><Mail size={20} className="md:w-6 md:h-6 text-slate-500 group-hover:text-cyan-400 transition-colors" /></div>
                    </div>
                </div>
            </div>
        </div>

        {/* === CONTENIDO 1: GALER√çA === */}
        <div ref={galleryRef} className="w-full min-h-screen bg-black/40 backdrop-blur-sm relative z-10 border-t border-white/10">
            <div className="max-w-[1920px] mx-auto px-6 md:px-20 py-20 md:py-32">
                <div className="flex flex-col lg:flex-row justify-between items-end mb-12 md:mb-20 border-b border-white/10 pb-10 animate-enter">
                    <div className="text-left w-full lg:w-auto">
                        <h2 className="text-cyan-400 tracking-[0.3em] uppercase text-xs md:text-sm font-bold mb-4 flex items-center gap-4">
                           <span className="w-10 h-[1px] bg-cyan-400"></span> {text.content1.title}
                        </h2>
                        <h3 className="section-title text-5xl md:text-6xl lg:text-8xl font-bebas font-black text-white leading-[0.8] tracking-tight">
                            {text.content1.gallery} <span className="text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 block md:inline">{text.content1.selecta}</span>
                        </h3>
                    </div>
                    <p className="text-slate-400 mt-6 lg:mt-0 max-w-md text-left lg:text-right font-light text-base md:text-lg">
                        {text.content1.desc}
                    </p>
                </div>
                
                {/* GRID RESPONSIVE: 1 col m√≥vil, 2 tablet, 3-4 desktop */}
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    {projects.map((project) => (
                        <div 
                            key={project.id} 
                            className="group relative bg-black/40 rounded-sm overflow-hidden cursor-pointer border border-white/10 transition-all duration-500 aspect-[4/3] shadow-lg hover-border-trigger hover-border-project"
                            style={{ '--item-color': project.hex }}
                        >
                            <div className="absolute inset-0 z-30 pointer-events-none hover-border-target transition-all duration-300"></div>
                            <img src={project.img} alt={project.title} className="w-full h-full object-cover group-hover:scale-110 transition-all duration-1000 ease-in-out" />
                            <div className="absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6 z-10">
                                <span className="text-[10px] font-bold tracking-widest uppercase mb-1 translate-y-4 group-hover:translate-y-0 transition-transform duration-300" style={{ color: project.hex }}>
                                    {project.category}
                                </span>
                                <h4 className="text-xl font-bebas text-white mb-3 translate-y-4 group-hover:translate-y-0 transition-transform duration-300 delay-75">
                                    {project.title}
                                </h4>
                                <button className="self-start px-3 py-1.5 border border-white/30 text-white text-[10px] uppercase tracking-wider hover:bg-white hover:text-black transition-colors translate-y-4 group-hover:translate-y-0 transition-transform duration-300 delay-100">
                                    {text.content1.btn_preview}
                                </button>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        </div>

        {/* === CONTENIDO 2: CONOCIMIENTOS === */}
        <div ref={aboutRef} className="w-full min-h-screen bg-black/60 backdrop-blur-md relative z-10 border-t border-white/10">
            
            <div className="w-full border-b border-white/5 bg-black/40">
                <div className="max-w-[1920px] mx-auto px-6 md:px-20 py-10">
                     <h2 className="text-cyan-400 tracking-[0.3em] uppercase text-xs md:text-sm font-bold mb-6 flex items-center gap-4">
                        <span className="w-10 h-[1px] bg-cyan-400"></span> {text.content2.knowledge}
                    </h2>
                    
                    <div className="flex flex-col items-center gap-4 w-full">
                        <div className="flex flex-wrap justify-center gap-4 w-full">
                            {skills.slice(0, 4).map((skill, index) => (
                                <div key={index} 
                                     className="relative flex flex-col items-center justify-center p-4 md:p-6 border bg-black/40 rounded-sm hover:shadow-lg transition-all duration-300 group cursor-default w-[140px] md:w-[200px] h-[100px] md:h-[120px] overflow-hidden border-white/10 hover-border-trigger"
                                     style={{ '--item-color': skill.hex }}
                                >
                                    <div className="absolute inset-0 z-30 pointer-events-none hover-border-target transition-all duration-300"></div>
                                    <skill.icon size={24} className={`${skill.color} mb-2 md:mb-3 group-hover:scale-110 transition-all ${skill.animation}`} />
                                    <span className="text-slate-300 font-bebas tracking-wide text-xs md:text-sm text-center whitespace-nowrap group-hover:text-white transition-colors">{skill.name}</span>
                                </div>
                            ))}
                        </div>
                        <div className="flex flex-wrap justify-center gap-4 w-full">
                            {skills.slice(4, 7).map((skill, index) => (
                                <div key={index + 4} 
                                     className="relative flex flex-col items-center justify-center p-4 md:p-6 border bg-black/40 rounded-sm hover:shadow-lg transition-all duration-300 group cursor-default w-[140px] md:w-[200px] h-[100px] md:h-[120px] overflow-hidden border-white/10 hover-border-trigger"
                                     style={{ '--item-color': skill.hex }}
                                >
                                    <div className="absolute inset-0 z-30 pointer-events-none hover-border-target transition-all duration-300"></div>
                                    <skill.icon size={24} className={`${skill.color} mb-2 md:mb-3 group-hover:scale-110 transition-all ${skill.animation}`} />
                                    <span className="text-slate-300 font-bebas tracking-wide text-xs md:text-sm text-center whitespace-nowrap group-hover:text-white transition-colors">{skill.name}</span>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            </div>

            <div className="max-w-[1920px] mx-auto grid grid-cols-1 lg:grid-cols-2">
                <div className="relative hidden lg:block">
                     <div className="sticky top-0 h-screen flex items-center justify-center p-20 border-r border-white/5">
                        <div className="relative w-full max-w-md aspect-[4/5] rounded-lg overflow-hidden border border-white/10 group shadow-2xl animate-enter">
                            <div className="w-full h-full bg-slate-800 flex items-center justify-center relative overflow-hidden group">
                                <img 
                                    src="WhatsApp Image 2026-01-17 at 12.26.59 AM.jpeg" 
                                    alt="Profile" 
                                    className="w-full h-full object-cover transition-all duration-1000 group-hover:scale-105"
                                    onError={(e) => { e.target.style.display = 'none'; e.target.nextSibling.style.display = 'flex'; }}
                                />
                                <div className="absolute inset-0 hidden items-center justify-center pointer-events-none bg-slate-900">
                                    <span className="text-white/20 text-xs uppercase tracking-widest font-bold">Orsinis Castillo Sebastian</span>
                                </div>
                            </div>
                            <div className="absolute inset-0 bg-cyan-900/10 mix-blend-overlay"></div>
                            <div className="absolute -bottom-10 -right-10 w-40 h-40 border-[20px] border-black bg-cyan-500 rounded-full z-10"></div>
                        </div>
                     </div>
                </div>

                <div className="py-20 px-6 md:px-20 text-left">
                    <h2 className="section-title text-6xl md:text-7xl lg:text-8xl font-bebas font-black text-white mb-10 tracking-wide mt-10">
                        {language === 'es' ? 'Con√≥ceme' : 'Get to Know Me'}
                    </h2>

                    <div className="space-y-12">
                        <div className="bg-black/40 border border-white/10 p-6 md:p-8 rounded-sm hover:border-cyan-500 transition-all duration-500 group shadow-lg hover:shadow-cyan-900/20 relative overflow-hidden animate-enter">
                            <div className="absolute top-0 left-0 w-1 h-full bg-cyan-500 transform scale-y-0 group-hover:scale-y-100 transition-transform duration-500"></div>
                            <div className="flex items-center gap-3 mb-4">
                                <Rocket className="text-cyan-400 group-hover:animate-bounce" size={28} />
                                <h3 className="text-2xl md:text-3xl font-bold text-white font-bebas tracking-wide group-hover:text-cyan-400 transition-colors">{text.content2.who_title}</h3>
                            </div>
                            <p className="text-slate-400 text-base md:text-lg leading-relaxed font-light group-hover:text-slate-300">{text.content2.who_text}</p>
                        </div>
                        {/* ... otros bloques iguales con padding ajustado ... */}
                         <div className="bg-black/40 border border-white/10 p-6 md:p-8 rounded-sm hover:border-purple-500 transition-all duration-500 group shadow-lg hover:shadow-purple-900/20 relative overflow-hidden animate-enter" style={{animationDelay: '100ms'}}>
                            <div className="absolute top-0 left-0 w-1 h-full bg-purple-500 transform scale-y-0 group-hover:scale-y-100 transition-transform duration-500"></div>
                            <div className="flex items-center gap-3 mb-4">
                                <Target className="text-purple-400 group-hover:animate-pulse" size={28} />
                                <h3 className="text-2xl md:text-3xl font-bold text-white font-bebas tracking-wide group-hover:text-purple-400 transition-colors">{text.content2.focus_title}</h3>
                            </div>
                            <p className="text-slate-400 text-base md:text-lg leading-relaxed font-light group-hover:text-slate-300">{text.content2.focus_text}</p>
                        </div>

                        <div className="bg-black/40 border border-white/10 p-6 md:p-8 rounded-sm hover:border-pink-500 transition-all duration-500 group shadow-lg hover:shadow-pink-900/20 relative overflow-hidden animate-enter" style={{animationDelay: '200ms'}}>
                             <div className="absolute top-0 left-0 w-1 h-full bg-pink-500 transform scale-y-0 group-hover:scale-y-100 transition-transform duration-500"></div>
                             <div className="flex items-center gap-3 mb-4">
                                <History className="text-pink-400 group-hover:animate-spin" size={28} />
                                <h3 className="text-2xl md:text-3xl font-bold text-white font-bebas tracking-wide group-hover:text-pink-400 transition-colors">{text.content2.path_title}</h3>
                             </div>
                             <p className="text-slate-400 text-base md:text-lg leading-relaxed font-light mb-4 group-hover:text-slate-300">{text.content2.path_text}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {/* === CONTENIDO 3: EXPERIENCIA LABORAL === */}
        <div ref={experienceRef} className="w-full min-h-screen bg-black/40 backdrop-blur-sm relative z-10 border-t border-white/10">
            <div className="max-w-[1920px] mx-auto px-6 md:px-20 py-20 lg:py-32">
                <div className="flex flex-col items-start mb-20 animate-enter">
                    <h2 className="text-cyan-400 tracking-[0.3em] uppercase text-xs md:text-sm font-bold mb-4 flex items-center gap-4">
                        <span className="w-10 h-[1px] bg-cyan-400"></span> {text.content3.title}
                    </h2>
                    <h3 className="section-title text-6xl md:text-7xl lg:text-9xl font-bebas font-black text-white leading-[0.8] tracking-tight">
                        {text.content3.work} <span className="text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600 block md:inline">{text.content3.exp}</span>
                    </h3>
                </div>
                <div className="relative border-l border-white/10 ml-2 md:ml-10 space-y-16">
                    {experiences.map((exp, index) => (
                        <div key={index} className="relative pl-6 md:pl-16 group animate-enter" style={{animationDelay: `${index * 150}ms`}}>
                            <div className="absolute left-[-5px] top-2 w-2.5 h-2.5 bg-cyan-500 rounded-full group-hover:scale-150 transition-transform duration-300 shadow-[0_0_10px_rgba(34,211,238,0.8)]"></div>
                            <div className="flex flex-col md:flex-row md:items-baseline gap-2 md:gap-4 mb-4">
                                <h4 className="text-3xl md:text-4xl font-bebas text-white tracking-wide">{exp.company}</h4>
                                <span className="text-cyan-400 font-mono text-xs md:text-sm border border-cyan-500/30 px-3 py-1 rounded bg-cyan-500/10 w-fit">{exp.period}</span>
                            </div>
                            <h5 className="text-lg md:text-xl font-bold text-slate-300 mb-6 flex items-center gap-2"><Briefcase size={18} className="text-cyan-500" />{exp.role}</h5>
                            <ul className="space-y-4 max-w-4xl">
                                {exp.details.map((detail, idx) => (
                                    <li key={idx} className="flex items-start gap-3 text-slate-400 font-light text-base md:text-lg group-hover:text-slate-300 transition-colors">
                                        <ArrowRight size={16} className="mt-1.5 text-cyan-500 shrink-0 opacity-50 group-hover:opacity-100 transition-opacity" />
                                        <span>{detail}</span>
                                    </li>
                                ))}
                            </ul>
                        </div>
                    ))}
                </div>
            </div>
        </div>

        {/* Footer */}
        <div className="w-full py-10 text-center border-t border-white/5 text-slate-500 text-xs tracking-widest uppercase bg-black/80 backdrop-blur-md relative z-10 flex flex-col gap-2">
            <span>¬© 2026 Orsinis Castillo Sebastian. {text.footer.rights}</span>
            <span className="text-cyan-500/70 font-mono text-[10px]">
                {language === 'es' ? (
                    <>Hecho con <span className="line-through decoration-cyan-500">caf√©</span>, agua, c√≥digo, y un poco de estr√©s... aahh! y un poco de IA ü§ñ</>
                ) : (
                    <>Made with <span className="line-through decoration-cyan-500">coffee</span>, water, code, and a bit of stress... aahh! and a bit of AI ü§ñ</>
                )}
            </span>
        </div>

      </main>

      {/* MODAL CONTACTO */}
      {activeSection === 'contact' && (
        <div className="fixed inset-0 z-[100] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-4 animate-fade-in-up">
            <div className="w-full max-w-4xl relative">
                <button onClick={() => setActiveSection('home')} className="absolute -top-12 right-0 text-cyan-400 hover:text-white uppercase font-bold tracking-widest text-sm">‚úï {text.contact.close}</button>
                
                <div className="p-8 md:p-12 border border-white/10 bg-black/40 backdrop-blur-sm rounded-2xl text-center relative overflow-hidden">
                    <h2 className="text-4xl md:text-6xl lg:text-8xl font-bebas font-black text-white mb-6 tracking-wide">{text.contact.title}</h2>
                    <p className="text-slate-400 text-lg md:text-xl mb-12 font-light max-w-2xl mx-auto">{text.contact.subtitle}</p>
                    
                    <div className="flex flex-wrap justify-center gap-6 md:gap-10">
                        {/* WhatsApp */}
                        <div onClick={handleWhatsApp} className="group flex flex-col items-center gap-3 cursor-pointer">
                            <div className="p-4 md:p-6 rounded-full bg-green-500/10 border border-green-500/30 group-hover:bg-green-500 group-hover:text-black text-green-400 transition-all duration-300 transform group-hover:scale-110">
                                <MessageCircle size={32} className="md:w-10 md:h-10" />
                            </div>
                            <span className="text-xs md:text-sm uppercase tracking-widest text-slate-400 group-hover:text-white">WhatsApp</span>
                        </div>

                        {/* Correo GMAIL */}
                        <a href="mailto:desarrollowebdi@gmail.com" className="group flex flex-col items-center gap-3 cursor-pointer">
                            <div className="p-4 md:p-6 rounded-full bg-red-500/10 border border-red-500/30 group-hover:bg-red-500 group-hover:text-black text-red-400 transition-all duration-300 transform group-hover:scale-110">
                                <AtSign size={32} className="md:w-10 md:h-10" />
                            </div>
                            <span className="text-xs md:text-sm uppercase tracking-widest text-slate-400 group-hover:text-white">Gmail</span>
                        </a>

                        {/* Tel√©fono */}
                        <a href="tel:8496539887" className="group flex flex-col items-center gap-3 cursor-pointer">
                            <div className="p-4 md:p-6 rounded-full bg-purple-500/10 border border-purple-500/30 group-hover:bg-purple-500 group-hover:text-black text-purple-400 transition-all duration-300 transform group-hover:scale-110">
                                <Phone size={32} className="md:w-10 md:h-10" />
                            </div>
                            <span className="text-xs md:text-sm uppercase tracking-widest text-slate-400 group-hover:text-white">Llamada</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
      )}

      {/* MODAL FORMULARIO */}
      {showFormModal && (
        <div className="fixed inset-0 z-[100] bg-black/95 backdrop-blur-xl flex flex-col items-center justify-center p-4 animate-fade-in-up">
            <div className="w-full max-w-2xl relative">
                <button onClick={() => setShowFormModal(false)} className="absolute -top-12 right-0 text-cyan-400 hover:text-white uppercase font-bold tracking-widest text-sm">‚úï {text.contact.close}</button>
                
                <div className="p-6 md:p-12 border border-white/10 bg-black/80 backdrop-blur-md rounded-2xl text-left relative overflow-hidden shadow-2xl overflow-y-auto max-h-[90vh]">
                    <h2 className="text-3xl md:text-4xl lg:text-6xl font-bebas font-black text-white mb-2 tracking-wide text-center">{text.form.title}</h2>
                    <p className="text-slate-400 text-sm md:text-lg mb-8 text-center font-light">{text.form.subtitle}</p>
                    
                    <form onSubmit={handleFormSubmit} className="space-y-4">
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div className="space-y-2">
                                <label className="text-xs uppercase tracking-widest text-cyan-400">{text.form.name}</label>
                                <input required type="text" name="nombre" value={formData.nombre} onChange={handleInputChange} className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:border-cyan-500 focus:outline-none transition-colors text-sm" />
                            </div>
                            <div className="space-y-2">
                                <label className="text-xs uppercase tracking-widest text-cyan-400">{text.form.lastname}</label>
                                <input required type="text" name="apellido" value={formData.apellido} onChange={handleInputChange} className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:border-cyan-500 focus:outline-none transition-colors text-sm" />
                            </div>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div className="space-y-2">
                                <label className="text-xs uppercase tracking-widest text-cyan-400">{text.form.phone}</label>
                                <input required type="tel" name="telefono" value={formData.telefono} onChange={handleInputChange} className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:border-cyan-500 focus:outline-none transition-colors text-sm" />
                            </div>
                            <div className="space-y-2">
                                <label className="text-xs uppercase tracking-widest text-cyan-400">{text.form.email}</label>
                                <input required type="email" name="correo" value={formData.correo} onChange={handleInputChange} className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:border-cyan-500 focus:outline-none transition-colors text-sm" />
                            </div>
                        </div>
                        <div className="space-y-2">
                            <label className="text-xs uppercase tracking-widest text-cyan-400">{text.form.message}</label>
                            <textarea required name="mensaje" value={formData.mensaje} onChange={handleInputChange} rows="4" className="w-full bg-white/5 border border-white/10 rounded p-3 text-white focus:border-cyan-500 focus:outline-none transition-colors resize-none text-sm"></textarea>
                        </div>
                        
                        <div className="pt-4 flex justify-end">
                            <button type="submit" className="flex items-center gap-2 px-6 py-3 md:px-8 bg-cyan-600 hover:bg-cyan-500 text-black font-bold uppercase tracking-widest rounded transition-all shadow-[0_0_20px_rgba(6,182,212,0.3)] text-xs md:text-sm">
                                <Send size={16} /> {text.form.send}
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
      )}

      {/* MODAL PERFIL */}
      {showProfileModal && (
        <div className="fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in-up">
          <div className="relative w-full max-w-4xl bg-black/90 border border-cyan-500/30 rounded-2xl p-6 md:p-8 shadow-[0_0_50px_rgba(6,182,212,0.15)] flex flex-col md:flex-row items-center gap-6 md:gap-10">
             <button onClick={() => setShowProfileModal(false)} className="absolute top-4 right-4 text-slate-500 hover:text-cyan-400 transition-colors z-10"><X size={24} /></button>
             <div className="w-full md:w-1/3 aspect-[3/4] overflow-hidden border-2 border-cyan-500/50 shadow-[0_0_20px_rgba(6,182,212,0.2)] rounded-[6px] shrink-0">
               <img src="WhatsApp Image 2026-01-17 at 12.26.59 AM.jpeg" alt="Profile" className="w-full h-full object-cover hover:scale-105 transition-transform duration-700" />
             </div>
             <div className="w-full md:w-2/3 text-left">
                <h3 className="text-3xl md:text-4xl font-bebas text-white mb-4 md:mb-6 tracking-wide border-b border-white/10 pb-4">{language === 'es' ? 'Perfil Profesional' : 'Professional Profile'}</h3>
                <p className="text-slate-300 font-light leading-relaxed text-base md:text-lg lg:text-xl">{text.profileModal.text}</p>
             </div>
          </div>
        </div>
      )}
    </div>
  );
}